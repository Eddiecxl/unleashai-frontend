{"ast":null,"code":"import React,{useState,useEffect}from'react';import{BrowserRouter as Router,Routes,Route,Navigate}from'react-router-dom';import Header from'./components/Header';import Home from'./components/Home';import Chatbot from'./components/Chatbot';import AboutUs from'./components/AboutUs';import History from'./components/History';import Login from'./components/Login';import Register from'./components/Register';import ResetPassword from\"./components/ResetPassword\";import Layout from'./components/Admin/Layout';import Admin from'./components/Admin/Admin';import RegisteredUsers from'./components/Admin/RegisteredUsers';import UserReports from'./components/Admin/UserReports';import Conversation from'./components/Admin/Conversation';import'./components/App.css';import{jsx as _jsx,jsxs as _jsxs}from\"react/jsx-runtime\";function App(){const[isLoggedIn,setIsLoggedIn]=useState(false);const[user,setUser]=useState({username:\"Guest\",role:\"guest\"});const[isRegister,setIsRegister]=useState(false);console.log(\"API Base URL:\",process.env.REACT_APP_API_BASE_URL);useEffect(()=>{const savedLoginState=localStorage.getItem(\"isLoggedIn\");const savedUser=localStorage.getItem(\"user\");if(savedLoginState===\"true\"&&savedUser){setIsLoggedIn(true);setUser(JSON.parse(savedUser));}},[]);useEffect(()=>{localStorage.setItem(\"isLoggedIn\",isLoggedIn);localStorage.setItem(\"user\",JSON.stringify(user));},[isLoggedIn,user]);return/*#__PURE__*/_jsxs(Router,{children:[/*#__PURE__*/_jsx(Header,{isLoggedIn:isLoggedIn,userName:user,setIsLoggedIn:setIsLoggedIn,setUser:setUser}),/*#__PURE__*/_jsxs(Routes,{children:[/*#__PURE__*/_jsx(Route,{path:\"/\",element:/*#__PURE__*/_jsx(Home,{})}),/*#__PURE__*/_jsx(Route,{path:\"/chatbot\",element:/*#__PURE__*/_jsx(Chatbot,{})}),/*#__PURE__*/_jsx(Route,{path:\"/about\",element:/*#__PURE__*/_jsx(AboutUs,{})}),/*#__PURE__*/_jsx(Route,{path:\"/login\",element:isRegister?/*#__PURE__*/_jsx(Register,{setIsRegister:setIsRegister}):/*#__PURE__*/_jsx(Login,{setIsLoggedIn:setIsLoggedIn,setUser:setUser,setIsRegister:setIsRegister})}),/*#__PURE__*/_jsx(Route,{path:\"/ResetPassword\",element:/*#__PURE__*/_jsx(ResetPassword,{setIsRegister:setIsRegister})}),/*#__PURE__*/_jsx(Route,{path:\"/history\",element:/*#__PURE__*/_jsx(History,{})}),/*#__PURE__*/_jsxs(Route,{path:\"/admin/*\",element:isLoggedIn&&user.role===\"admin\"?/*#__PURE__*/_jsx(Layout,{}):/*#__PURE__*/_jsx(Navigate,{to:\"/\",replace:true}),children:[/*#__PURE__*/_jsx(Route,{index:true,element:/*#__PURE__*/_jsx(Admin,{})}),/*#__PURE__*/_jsx(Route,{path:\"registeruser\",element:/*#__PURE__*/_jsx(RegisteredUsers,{})}),/*#__PURE__*/_jsx(Route,{path:\"userreports\",element:/*#__PURE__*/_jsx(UserReports,{})}),/*#__PURE__*/_jsx(Route,{path:\"conversation\",element:/*#__PURE__*/_jsx(Conversation,{})})]})]})]});}export default App;","map":{"version":3,"names":["React","useState","useEffect","BrowserRouter","Router","Routes","Route","Navigate","Header","Home","Chatbot","AboutUs","History","Login","Register","ResetPassword","Layout","Admin","RegisteredUsers","UserReports","Conversation","jsx","_jsx","jsxs","_jsxs","App","isLoggedIn","setIsLoggedIn","user","setUser","username","role","isRegister","setIsRegister","console","log","process","env","REACT_APP_API_BASE_URL","savedLoginState","localStorage","getItem","savedUser","JSON","parse","setItem","stringify","children","userName","path","element","to","replace","index"],"sources":["C:/Users/echa328/Downloads/Unleashed-Frontend-Repo/src/App.js"],"sourcesContent":["import React, { useState, useEffect } from 'react';\r\nimport { BrowserRouter as Router, Routes, Route, Navigate } from 'react-router-dom';\r\nimport Header from './components/Header';\r\nimport Home from './components/Home';\r\nimport Chatbot from './components/Chatbot';\r\nimport AboutUs from './components/AboutUs';\r\nimport History from './components/History';\r\nimport Login from './components/Login';\r\nimport Register from './components/Register';\r\nimport ResetPassword from \"./components/ResetPassword\";\r\nimport Layout from './components/Admin/Layout';\r\nimport Admin from './components/Admin/Admin';\r\nimport RegisteredUsers from './components/Admin/RegisteredUsers';\r\nimport UserReports from './components/Admin/UserReports';\r\nimport Conversation from './components/Admin/Conversation';\r\nimport './components/App.css';\r\n\r\n\r\nfunction App() {\r\n  const [isLoggedIn, setIsLoggedIn] = useState(false);\r\n  const [user, setUser] = useState({ username: \"Guest\", role: \"guest\" });\r\n  const [isRegister, setIsRegister] = useState(false);\r\n\r\n\r\n  console.log(\"API Base URL:\", process.env.REACT_APP_API_BASE_URL);\r\n\r\n\r\n  useEffect(() => {\r\n    const savedLoginState = localStorage.getItem(\"isLoggedIn\");\r\n    const savedUser = localStorage.getItem(\"user\");\r\n\r\n    if (savedLoginState === \"true\" && savedUser) {\r\n      setIsLoggedIn(true);\r\n      setUser(JSON.parse(savedUser));\r\n    }\r\n\r\n\r\n  }, []);\r\n\r\n  useEffect(() => {\r\n    localStorage.setItem(\"isLoggedIn\", isLoggedIn);\r\n    localStorage.setItem(\"user\", JSON.stringify(user));\r\n  }, [isLoggedIn, user]);\r\n\r\n\r\n\r\n  return (\r\n    <Router>\r\n      <Header\r\n        isLoggedIn={isLoggedIn}\r\n        userName={user}\r\n        setIsLoggedIn={setIsLoggedIn}\r\n        setUser={setUser}\r\n      \r\n            />\r\n            <Routes>\r\n                <Route path=\"/\" element={<Home />} />\r\n                <Route path=\"/chatbot\" element={<Chatbot />} />\r\n                <Route path=\"/about\" element={<AboutUs />} />\r\n                <Route\r\n                    path=\"/login\"\r\n                    element={\r\n                        isRegister ? (\r\n                            <Register setIsRegister={setIsRegister} />\r\n                        ) : (\r\n                            <Login\r\n                                setIsLoggedIn={setIsLoggedIn}\r\n                                setUser={setUser}\r\n                                setIsRegister={setIsRegister}\r\n                            />\r\n                        )\r\n                    }\r\n                />\r\n\r\n                <Route\r\n                  path=\"/ResetPassword\"\r\n                  element={<ResetPassword setIsRegister={setIsRegister} />}\r\n                />\r\n                <Route path=\"/history\" element={<History />} />\r\n                \r\n                 {/* âœ… Fix: Only Redirect to Home If No Login State Exists */}\r\n                <Route\r\n                path=\"/admin/*\"\r\n                element={\r\n                    isLoggedIn && user.role === \"admin\" ? <Layout /> : <Navigate to=\"/\" replace />\r\n                }\r\n                >\r\n                <Route index element={<Admin />} />\r\n                <Route path=\"registeruser\" element={<RegisteredUsers />} />\r\n                <Route path=\"userreports\" element={<UserReports />} />\r\n                <Route path=\"conversation\" element={<Conversation />} />\r\n                </Route>\r\n            </Routes>\r\n        </Router>\r\n    );\r\n}\r\n\r\nexport default App;\r\n"],"mappings":"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","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}